{"version":3,"sources":["components/Header.js","components/Movie.js","components/MovieContainer.js","components/Topic.js","App.js","index.js"],"names":["Header","getGenre","getQuery","useState","text","setText","onGenre","genre","id","href","type","className","style","padding","onClick","e","target","value","placeholder","onChange","q","autoFocus","Movie","handleFavouriteClick","movieShow","src","poster_path","alt","title","vote_average","overview","window","location","MovieContainer","movie","isLoading","favourites","addFavourites","indexOf","push","console","log","map","f","Topic","topic","require","config","API_KEY","process","MOVIE_API","SEARCH_API","GENRE_API","App","setMovie","setIsLoading","query","setQuery","setGenre","page","setPage","currentAPI","setAPI","setTopic","setFavourites","goToTop","scrollTo","nextPage","a","axios","result","data","results","prevPage","useEffect","fetchMovies","fetchGenre","fetchFavs","fetchSearch","margin","disabled","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NAqCeA,EAnCA,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACxB,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAOMC,EAAU,SAACC,GACbL,EAAS,IACTG,EAAQ,IACRJ,EAASM,IAGb,OACI,yBAAQC,GAAG,MAAX,UACI,mBAAGC,KAAK,IAAR,SAAY,2CACZ,uBAAOC,KAAK,SAASC,UAAU,QAAQC,MAAO,CAACC,QAAS,GAAIC,QAAS,SAACC,GAAD,OAAOT,EAAQS,EAAEC,OAAOR,KAAKS,MAAM,SAAST,GAAG,OACpH,uBAAOE,KAAK,SAASC,UAAU,QAAQC,MAAO,CAACC,QAAS,GAAIC,QAAS,SAACC,GAAD,OAAOT,EAAQS,EAAEC,OAAOR,KAAKS,MAAM,SAAST,GAAG,OACpH,uBAAOE,KAAK,SAASC,UAAU,QAAQC,MAAO,CAACC,QAAS,GAAIC,QAAS,SAACC,GAAD,OAAOT,EAAQS,EAAEC,OAAOR,KAAKS,MAAM,QAAQT,GAAG,OACnH,uBAAOE,KAAK,SAASC,UAAU,QAAQC,MAAO,CAACC,QAAS,GAAIC,QAAS,SAACC,GAAD,OAAOT,EAAQS,EAAEC,OAAOR,KAAKS,MAAM,OAAOT,GAAG,MAClH,+BACI,uBACIE,KAAK,OACLC,UAAU,eACVO,YAAY,YACZD,MAAOb,EACPe,SAAU,SAACJ,GAAD,OAxBRK,EAwBwBL,EAAEC,OAAOC,MAvB/CZ,EAAQe,QACRlB,EAASkB,GAFI,IAACA,GAyBFC,WAAS,UCCdC,EA3BD,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,qBAAsBC,EAAgB,EAAhBA,UAUnC,OACI,sBAAKb,UAAU,QAAf,UACI,qBAAKc,IAdC,mCAcgBD,EAAUE,YAAaC,IAAKH,EAAUI,QACxD,sBAAKjB,UAAU,aAAf,UACI,6BAAKa,EAAUI,QACf,4CAAeJ,EAAUK,mBAE7B,sBAAKlB,UAAU,aAAf,UACI,2CACA,4BAAIa,EAAUM,WACd,uBAAOpB,KAAK,SAASI,QAlBpB,WACbiB,OAAOC,SAASvB,KAAO,oCAAsCe,EAAUhB,IAiBjBS,MAAM,eAChD,uBAAOP,KAAK,SAASI,QAAS,SAACC,GAAD,OAfxBP,EAe4CgB,EAAUhB,QAdxEe,EAAqBf,GADJ,IAACA,GAe2DS,MAAM,qBCF5EgB,EApBQ,SAAC,GAAgD,IAA9CV,EAA6C,EAA7CA,qBAAsBW,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,UACnD,EAAqBhC,mBAAS,IAAvBiC,EAAP,oBAEMC,EAAgB,SAAC7B,IACS,IAA5B4B,EAAWE,QAAQ9B,GAAa4B,EAAWG,KAAK/B,GAAMgC,QAAQC,IAAI,4BAClElB,EAAqBa,IAGzB,OAAOD,EACA,4CAEC,qBAAKxB,UAAU,mBAAf,SACKuB,EAAMQ,KAAI,SAAAlB,GAAS,OAChB,cAAC,EAAD,CAAOD,qBAAsB,SAACoB,GAAD,OAAON,EAAcM,IAAuBnB,UAAWA,GAAzBA,EAAUhB,UCC1EoC,EAfD,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACZ,OACI,qBAAKlC,UAAU,QAAf,SACI,6BAAK,CACG,GAAM,SACN,GAAM,SACN,GAAM,QACN,EAAK,UACL,EAAK,UACPkC,QCLlBC,EAAQ,IAAUC,SAElB,IAAMC,EAAUC,mCACVC,EAAY,+EAAiFF,EAAU,SACvGG,EAAa,sDAAwDH,EAAU,UAC/EI,EAAY,uDAAyDJ,EAAU,gBAgGtEK,EA7FH,WACV,MAA0BlD,mBAAS,IAAnC,mBAAO+B,EAAP,KAAcoB,EAAd,KACA,EAAkCnD,oBAAS,GAA3C,mBAAOgC,EAAP,KAAkBoB,EAAlB,KACA,EAA0BpD,mBAAS,IAAnC,mBAAOqD,EAAP,KAAcC,EAAd,KACA,EAA0BtD,mBAAS,IAAnC,mBAAOI,EAAP,KAAcmD,EAAd,KACA,EAAwBvD,mBAAS,GAAjC,mBAAOwD,EAAP,KAAaC,EAAb,KACA,EAA6BzD,mBAAS,IAAtC,mBAAO0D,EAAP,KAAmBC,EAAnB,KACA,EAA0B3D,mBAAS,IAAnC,mBAAO0C,EAAP,KAAckB,EAAd,KACA,EAAoC5D,mBAAS,IAA7C,mBAAOiC,EAAP,KAAmB4B,EAAnB,KAEMC,EAAU,WACdlC,OAAOmC,SAAS,EAAG,IAGfC,EAAQ,uCAAG,8BAAAC,EAAA,6DACXD,EAAWR,EAAO,EADP,SAEMU,IAAMR,EAAa,SAAWM,GAFpC,OAETG,EAFS,OAGfhB,EAASgB,EAAOC,KAAKC,SACrBZ,EAAQO,GACRF,IALe,2CAAH,qDAORQ,EAAQ,uCAAG,8BAAAL,EAAA,6DACXK,EAAWd,EAAO,EADP,SAEMU,IAAMR,EAAa,SAAWY,GAFpC,OAETH,EAFS,OAGfhB,EAASgB,EAAOC,KAAKC,SACrBZ,EAAQa,GACRR,IALe,2CAAH,qDA2Dd,OAnDAS,qBAAU,WACR,IAAMC,EAAW,uCAAG,4BAAAP,EAAA,sEACGC,IAAMnB,GADT,OACZoB,EADY,OAElBP,EAAS,GACTH,EAAQ,GACRE,EAAOZ,GACPI,EAASgB,EAAOC,KAAKC,SACrBjB,IAAa,GAAMgB,MACnBN,IAPkB,2CAAH,qDAUXW,EAAU,uCAAG,4BAAAR,EAAA,sEACIC,IAAMjB,EAAY7C,GADtB,OACX+D,EADW,OAEjB9B,QAAQC,IAAIL,GACZqB,EAAS,IACTM,EAASxD,GACTqD,EAAQ,GACRK,IACAH,EAAOV,EAAY7C,GACnBiC,QAAQC,IAAI6B,GACZhB,EAASgB,EAAOC,KAAKC,SACrBjB,GAAa,GAVI,4CAAH,qDAaVsB,EAAS,uCAAG,4BAAAT,EAAA,sEACKC,IAxDZ,sCAwD2BjC,EAAa,YAAcY,EAAU,mBADzD,OACVsB,EADU,OAEhB9B,QAAQC,IAAI6B,EAAOC,MAFH,2CAAH,qDAeVf,EAVY,uCAAG,4BAAAY,EAAA,sEACGC,IAAMlB,EAAaK,GADtB,OACZc,EADY,OAElBR,EAAOX,EAAaK,GACpBO,EAAS,GACTH,EAAQ,GACRN,EAASgB,EAAOC,KAAKC,SACrBjB,GAAa,GACbU,IAPkB,2CAAH,oDAmBfa,IARAH,IACIpE,IACY,MAAVA,GACFsE,IAEFD,QAKH,CAACpB,EAAOjD,IAET,sBAAKI,UAAU,YAAf,UACE,cAAC,EAAD,CAAQV,SAAUyD,EAAUxD,SAAU,SAACkB,GAAD,OAAOqC,EAASrC,MACtD,cAAC,EAAD,CAAOyB,MAAOA,IACd,cAAC,EAAD,CAAgBtB,qBAAsB,SAACoB,GAAD,OAAOqB,EAAcrB,IAAIR,UAAWA,EAAWD,MAAOA,IAC5F,sBAAKvB,UAAU,SAAf,UACE,uBAAOD,KAAK,SAASE,MAAO,CAAEmE,OAAQ,OAASC,SAAmB,IAATrB,EAA2B7C,QAAS2D,EAAUxD,MAAM,cAC7G,uBAAOP,KAAK,SAASE,MAAO,CAAEmE,OAAQ,OAASjE,QAASqD,EAAUlD,MAAM,qBCjGhFgE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.82fa260d.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst Header = ({ getGenre, getQuery }) => {\r\n    const [text, setText] = useState('')\r\n\r\n    const onChange = (q) => {\r\n        setText(q)\r\n        getQuery(q)\r\n    }\r\n\r\n    const onGenre = (genre) => {\r\n        getQuery('')\r\n        setText('')\r\n        getGenre(genre)\r\n    }\r\n    \r\n    return (\r\n        <header id=\"top\">\r\n            <a href=\".\"><h1>MovieDB</h1></a>\r\n            <input type=\"button\" className=\"genre\" style={{padding: 0}} onClick={(e) => onGenre(e.target.id)} value=\"Action\" id=\"28\"></input>\r\n            <input type=\"button\" className=\"genre\" style={{padding: 0}} onClick={(e) => onGenre(e.target.id)} value=\"Comedy\" id=\"35\"></input>\r\n            <input type=\"button\" className=\"genre\" style={{padding: 0}} onClick={(e) => onGenre(e.target.id)} value=\"Drama\" id=\"18\"></input>\r\n            <input type=\"button\" className=\"genre\" style={{padding: 0}} onClick={(e) => onGenre(e.target.id)} value=\"Favs\" id=\"3\"></input>\r\n            <form>\r\n                <input \r\n                    type='text' \r\n                    className='form-control' \r\n                    placeholder='Search...' \r\n                    value={text}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    autoFocus\r\n                    />\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst IMAGE_API = \"https://image.tmdb.org/t/p/w1280\"\r\n\r\nconst Movie = ({ handleFavouriteClick, movieShow }) => {\r\n\r\n    const viewInfo = () => {\r\n        window.location.href = \"https://www.themoviedb.org/movie/\" + movieShow.id\r\n    }\r\n\r\n    const addFavourite = (id) => {\r\n        handleFavouriteClick(id)\r\n    }\r\n\r\n    return (\r\n        <div className=\"movie\">\r\n            <img src={IMAGE_API + movieShow.poster_path} alt={movieShow.title} />\r\n                <div className=\"movie-info\">\r\n                    <h3>{movieShow.title}</h3>\r\n                    <span>rating: {movieShow.vote_average}</span>\r\n                </div>\r\n                <div className=\"movie-over\">\r\n                    <h2>Overview:</h2>\r\n                    <p>{movieShow.overview}</p>\r\n                    <input type=\"button\" onClick={ viewInfo } value=\"Show Infos\"></input>\r\n                    <input type=\"button\" onClick={(e) => addFavourite(movieShow.id)} value=\"Favourite\"></input>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Movie","import React, { useState } from 'react'\r\nimport Movie from './Movie'\r\n\r\nconst MovieContainer = ({ handleFavouriteClick, movie, isLoading }) => {\r\n    const [favourites] = useState([])\r\n\r\n    const addFavourites = (id) => {\r\n        favourites.indexOf(id) === -1 ? favourites.push(id) : console.log(\"This item already exists\");\r\n        handleFavouriteClick(favourites)\r\n    }\r\n\r\n    return isLoading\r\n        ? (<h1>Loading...</h1>)\r\n        : (\r\n            <div className=\"movies-container\">\r\n                {movie.map(movieShow => (\r\n                    <Movie handleFavouriteClick={(f) => addFavourites(f)} key={movieShow.id} movieShow={movieShow}/>\r\n                ))}\r\n            </div>\r\n            \r\n        )\r\n}\r\n\r\nexport default MovieContainer\r\n","import React from 'react'\r\n\r\nconst Topic = ({topic}) => {\r\n    return (\r\n        <div className=\"topic\">\r\n            <h1>{{\r\n                    '28': \"Action\",\r\n                    \"35\": \"Comedy\",\r\n                    \"18\": \"Drama\",\r\n                    \"1\": \"Popular\",\r\n                    \"2\": \"Search\"\r\n                }[topic]}       \r\n            </h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Topic\r\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Header from './components/Header';\nimport MovieContainer from './components/MovieContainer';\nimport Topic from './components/Topic';\nrequire('dotenv').config();\n\nconst API_KEY = process.env.REACT_APP_API_KEY\nconst MOVIE_API = \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=\" + API_KEY + \"&page1\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?&api_key=\" + API_KEY + \"&query=\";\nconst GENRE_API = \"https://api.themoviedb.org/3/discover/movie?api_key=\" + API_KEY + \"&with_genres=\";\nconst ID_API = \"https://api.themoviedb.org/3/movie/\";\n\nconst App = () => {\n  const [movie, setMovie] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [query, setQuery] = useState('')\n  const [genre, setGenre] = useState('')\n  const [page, setPage] = useState(1)\n  const [currentAPI, setAPI] = useState('')\n  const [topic, setTopic] = useState('')\n  const [favourites, setFavourites] = useState([])\n\n  const goToTop = () => {\n    window.scrollTo(0, 0)\n  }\n\n  const nextPage = async () => {\n    let nextPage = page + 1\n    const result = await axios(currentAPI + \"&page=\" + nextPage)\n    setMovie(result.data.results)\n    setPage(nextPage)\n    goToTop()\n  }\n  const prevPage = async () => {\n    let prevPage = page - 1\n    const result = await axios(currentAPI + \"&page=\" + prevPage)\n    setMovie(result.data.results)\n    setPage(prevPage)\n    goToTop()\n  }\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const result = await axios(MOVIE_API)\n      setTopic(1)\n      setPage(1)\n      setAPI(MOVIE_API)\n      setMovie(result.data.results)\n      setIsLoading(false.data)\n      goToTop()\n    }\n\n    const fetchGenre = async () => {\n      const result = await axios(GENRE_API + genre)\n      console.log(favourites)\n      setQuery('')\n      setTopic(genre)\n      setPage(1)\n      goToTop()\n      setAPI(GENRE_API + genre)\n      console.log(result)\n      setMovie(result.data.results)\n      setIsLoading(false)\n    }\n\n    const fetchFavs = async () => {\n      const result = await axios(ID_API + favourites + \"?api_key=\" + API_KEY + \"&language=en-US\")\n      console.log(result.data)\n    }\n\n    const fetchSearch = async () => {\n      const result = await axios(SEARCH_API + query)\n      setAPI(SEARCH_API + query)\n      setTopic(2)\n      setPage(1)\n      setMovie(result.data.results)\n      setIsLoading(false)\n      goToTop()\n    }\n\n    if (!query) {\n      fetchMovies()\n      if (genre) {\n        if (genre === '3') {\n          fetchFavs()\n        }\n        fetchGenre()\n      }\n    } else {\n      fetchSearch()\n    }\n  }, [query, genre])\n  return (\n    <div className=\"container\">\n      <Header getGenre={setGenre} getQuery={(q) => setQuery(q)}></Header>\n      <Topic topic={topic}></Topic>\n      <MovieContainer handleFavouriteClick={(f) => setFavourites(f)} isLoading={isLoading} movie={movie} />\n      <div className=\"bottom\">\n        <input type=\"button\" style={{ margin: \"1em\" }} disabled={page === 1 ? true : false} onClick={prevPage} value=\"prev Page\"></input>\n        <input type=\"button\" style={{ margin: \"1em\" }} onClick={nextPage} value=\"next Page\"></input>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}